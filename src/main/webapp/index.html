<!DOCTYPE html>
<html>
<head></head>
<body>
	<h2>Jersey RESTful Web Application!</h2>
	<ul>
		<li><a href="api/demo">demo</a></li>
		<li><a href="api/demo/getInfo">getInfo</a></li>
		<li><a href="api/demo/param?val=122344abc">param?val=12123344</a></li>
		<li><a href="api/demo/map">map</a></li>
		<li><a href="api/demo/list">list</a></li>
		<li><a href="api/demo">....</a></li>
	</ul>

	<form id="testForm" action="api/demo/update" method="post">
		<label>a1 <input type="text" name="a1" value="3a"><label>a2<input
				type="text" name="a2" value="3b"></label> <label><button
					type="submit">submit</button></label> <label><button type="button"
					onclick="testPostJson();">ajax submit</button></label>
	</form>

	<script type="text/javascript"
		src="./assets/jquery-1.12.4/jquery.min.js"></script>
	<script type="text/javascript"
		src="./assets/plugins/jquery-form-json.js"></script>
	<script type="text/javascript">
		//
		function testPostJson() {
			console.log("get in method");
			var jsonObj = $("#testForm").serializeObject();
			console.log(jsonObj);
			$.ajax({
				url : 'api/demo/testGet',
				type : 'get',
				data : jsonObj,
				dataType : 'json',
				contentType : 'application/json',
				async : true,
				success : function(data) {
					console.log("response data:" + data);
					console.log(JSON.stringify(data));
				},
				error : function() {
					alert("ajax error");
				}
			});
		}
		function testGetPassJson() {
			$.ajax({
				url : 'api/demo/requestTest',
				type : 'GET',
				data : jsonObj,
				dataType : 'json',
				contentType : 'application/json',
				async : false,
				success : function(data) {
					console.log("response data:" + data);
				},
				error : function() {
					alert("ajax error");
				}
			});
		}
	</script>
</body>
</html>
